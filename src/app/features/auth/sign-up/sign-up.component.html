<form [formGroup]="signupForm" (ngSubmit)="onSubmt()">
  <div class="mb-3">
    <label for="firstName" class="form-label">First Name</label>
    <input
      class="form-control"
      type="text"
      id="firstName"
      formControlName="firstName"
    />
    @if (controls.firstName.dirty) {
      @if (controls.firstName.errors?.["maxlength"]) {
        <div class="mt-1 text-danger">
          Name is too long! maximum length is
          {{ controls.firstName.errors?.["maxlength"]["requiredLength"] }}
        </div>
      }
      @if (controls.firstName.errors?.["required"]) {
        <div class="mt-1 text-danger">Name is required!</div>
      }
      @if (controls.firstName.errors?.["badName"]) {
        <div class="mt-1 text-danger">
          {{ controls.firstName.errors?.["badName"] }}
        </div>
      }
    }
  </div>
  <div class="mb-3">
    <label for="lastName" class="form-label">Last Name</label>
    <input
      class="form-control"
      type="text"
      id="lastName"
      formControlName="lastName"
    />
    @if (controls.lastName.dirty) {
      @if (controls.lastName.errors?.["maxlength"]) {
        <div class="mt-1 text-danger">
          Last name is too long! maximum length is
          {{ controls.lastName.errors?.["maxlength"]["requiredLength"] }}
        </div>
      }
      @if (controls.lastName.errors?.["required"]) {
        <div class="mt-1 text-danger">Last name is required!</div>
      }
    }
  </div>
  <div class="mb-3">
    <label for="email" class="form-label">Email</label>
    <input
      class="form-control"
      type="email"
      id="email"
      formControlName="email"
    />
    @if (controls.email.dirty && controls.email.errors) {
      <div class="mt-1 text-danger">Must be a valid email</div>
    }
  </div>
  <div class="mb-3">
    <label for="age" class="form-label">Age</label>
    <input type="number" id="age" class="form-control" formControlName="age" />
  </div>
  <div class="mb-3">
    <label for="gender" class="form-label">Gender</label>
    <select id="gender" class="form-select" formControlName="gender">
      @for (gender of genderOptions; track gender) {
        <option [value]="gender">{{ gender | titlecase }}</option>
      }
    </select>
  </div>
  <div class="mb-3">
    <label for="password" class="form-label">Password</label>
    <input
      class="form-control"
      type="password"
      id="password"
      formControlName="password"
    />
    @if (controls.password.dirty && controls.password.errors) {
      @if (controls.password.errors["minlength"]) {
        <div class="mt-1 text-danger">Password is too short!</div>
      }
    }
  </div>
  <div class="mb-3">
    <label for="confirmPassword" class="form-label">Confirm Password</label>
    <input
      class="form-control"
      type="password"
      id="confirmPassword"
      formControlName="confirmPassword"
    />
    @if (
      controls.confirmPassword.dirty && signupForm.errors?.["passwordsMatch"]
    ) {
      <div class="mt-1 text-danger">
        {{ signupForm.errors?.["passwordsMatch"] }}
      </div>
    }
  </div>
  <div class="mb-3">
    <label for="address" class="form-label">Address</label>
    <input
      type="text"
      id="address"
      class="form-control"
      formControlName="address"
    />
  </div>
  <div class="mb-3">
    <label for="phone" class="form-label">Phone</label>
    <input
      type="text"
      id="phone"
      class="form-control"
      formControlName="phone"
    />
  </div>
  <div class="mb-3">
    <label for="zipcode" class="form-label">Zipcode</label>
    <input
      type="text"
      id="zipcode"
      class="form-control"
      formControlName="zipcode"
    />
  </div>
  <div class="mb-3">
    <label for="avatar" class="form-label">Avatar</label>
    <input
      type="text"
      id="avatar"
      class="form-control"
      formControlName="avatar"
    />
  </div>
  @if (isLoading$ | async) {
    <button class="btn btn-primary" type="button" disabled>
      <span class="spinner-border spinner-border-sm" aria-hidden="true"></span>
      <span role="status">Loading...</span>
    </button>
  } @else {
    <button
      class="btn btn-primary"
      type="submit"
      [disabled]="signupForm.invalid"
    >
      Sign Up
    </button>
  }
</form>
