<div class="card mb-4 shadow-sm">
  <div class="position-relative">
    <div
      class="card-img-top d-flex justify-content-center align-items-center"
      style="height: 250px; overflow: hidden"
    >
      <img
        [src]="product.thumbnail"
        class="img-fluid"
        [alt]="product.title"
        style="max-width: 100%; max-height: 100%; object-fit: cover"
      />
    </div>
    <div class="position-absolute top-0 end-0 m-3">
      <span class="badge bg-success">New</span>
    </div>
  </div>
  <div class="card-body">
    <h5 class="card-title mb-2">{{ product.title }}</h5>
    <h6 class="text-secondary mb-3">
      {{ product.price.current | currency: "USD" }}
    </h6>
    <p class="card-text mb-3 text-muted">{{ product.description }}</p>
    <div class="d-flex justify-content-between align-items-center">
      <p class="card-text text-secondary mb-0">
        Issue Date: {{ product.issueDate | date: "yyyy" }}
      </p>
      <div>
        @if (deleteBtnVisible) {
          <button
            class="btn btn-danger me-2"
            (click)="deleteProduct.emit(product._id)"
          >
            Delete
          </button>
        } @else {
          <button
            (click)="addToCart.emit(product._id)"
            class="btn btn-primary me-2"
          >
            <i class="bi bi-cart"></i>
          </button>
        }
        <a
          class="btn btn-secondary"
          [routerLink]="['/', 'product', product._id]"
          >Details</a
        >
      </div>
    </div>
  </div>
</div>
